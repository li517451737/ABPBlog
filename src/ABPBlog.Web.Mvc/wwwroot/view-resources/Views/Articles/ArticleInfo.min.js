(function(){$(function(){function r(){t.bootstrapTable("refresh")}function u(t){abp.message.confirm("确认删除选中项？",function(i){i&&n.deleteArticleInfo({id:t}).done(function(){r()})})}var n=abp.services.app.articleInfo,i=$("#ArticleCreateModal"),f=i.find("form"),t=$("#articleTable");t.bootstrapTable({abpMethod:n.getAllArticles,method:"get",toolbar:"#toolBar",striped:!0,cache:!1,pagination:!0,sortable:!1,sortOrder:"asc",queryParams:function(n){return{limit:n.limit,offset:n.offset}},sidePagination:"server",pageNumber:1,pageSize:10,pageList:[10,25,50,100,"All"],strictSearch:!0,showColumns:!1,showRefresh:!1,minimumCountColumns:2,clickToSelect:!0,uniqueId:"id",cardView:!1,detailView:!1,clickToSelect:!0,columns:[{field:"title",title:"标题"},{field:"articleClassify",title:"分类",formatter:function(n){return n.className}},{field:"intro",title:"简介",formatter:function(n){return abp.utils.truncateString(n,50)}},{field:"lastModificationTime",title:"最后更新日期",formatter:function(n){return moment(n).format("YYYY-MM-DD HH:mm:ss")}},{field:"creationTime",title:"创建日期",formatter:function(n){return moment(n).format("YYYY-MM-DD HH:mm:ss")}},{field:"operator",title:"操作",align:"center",formatter:function(n,t){return'<a name="edit-article" class="btn btn-default btn-sm" href="/ArticleInfoes/CreateOrEdit?id='+t.id+'">编辑<\/a><a class="btn btn-warning btn-sm delete-article" data-article-id="'+t.id+'">删除<\/a>'}}],onLoadSuccess:function(){$(".delete-article").click(function(){var n=$(this).attr("data-article-id");u(n)})}})})})();