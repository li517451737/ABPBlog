(function(){$(function(){function r(){location.reload(!0)}function u(n,t){abp.message.confirm("确认删除分类："+t+"'?",function(t){t&&i.deleteArticleClassify({id:n}).done(function(){r()})})}var i=abp.services.app.articleClassify,n=$("#ClassifyCreateModal"),t=n.find("form");t.validate({});$(".delete-classify").click(function(){var n=$(this).attr("data-classify-id"),t=$(this).attr("data-classify-name");u(n,t)});$(".edit-classify").click(function(n){var t=$(this).attr("data-classify-id");n.preventDefault();$.ajax({url:abp.appPath+"ArticleClassifies/EditCLassifyModal?classifyId="+t,type:"POST",contentType:"application/html",success:function(n){$("#ClassifyEditModal div.modal-content").html(n)},error:function(){}})});t.find('button[type="submit"]').click(function(u){if(u.preventDefault(),t.valid()){var f=t.serializeFormToObject();abp.ui.setBusy(n);i.createOrEditArticleClassify(f).done(function(){n.modal("hide");r()}).always(function(){abp.ui.clearBusy(n)})}});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()})})})();